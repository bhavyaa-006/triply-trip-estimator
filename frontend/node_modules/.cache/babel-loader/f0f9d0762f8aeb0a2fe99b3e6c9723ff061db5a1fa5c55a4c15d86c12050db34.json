{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arora\\\\Downloads\\\\trip-estimator\\\\frontend\\\\src\\\\chatbot.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport Card from \"./components/Card\";\nimport GradientButton from \"./components/GradientButton\";\nimport { FaRobot, FaUser } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst chatContainerStyle = {\n  minHeight: \"100vh\",\n  background: \"linear-gradient(135deg, #232b3b 0%, #181c24 100%)\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  padding: \"2rem\"\n};\nconst chatBoxStyle = {\n  width: \"100%\",\n  maxWidth: 500,\n  minHeight: 400,\n  background: \"rgba(30,34,44,0.97)\",\n  borderRadius: \"22px\",\n  boxShadow: \"0 8px 32px 0 rgba(31, 38, 135, 0.18)\",\n  padding: \"2rem\",\n  color: \"#fff\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  gap: \"1rem\",\n  marginBottom: \"2rem\"\n};\nconst messageStyle = isUser => ({\n  alignSelf: isUser ? \"flex-end\" : \"flex-start\",\n  background: isUser ? \"linear-gradient(90deg, #a991f7 0%, #6e7ff3 100%)\" : \"rgba(40,44,54,0.97)\",\n  color: \"#fff\",\n  borderRadius: \"16px\",\n  padding: \"0.8rem 1.2rem\",\n  margin: \"0.2rem 0\",\n  maxWidth: \"80%\",\n  display: \"flex\",\n  alignItems: \"center\",\n  gap: \"0.7rem\",\n  fontSize: \"1.08rem\"\n});\nexport default function Chatbot() {\n  _s();\n  const [messages, setMessages] = useState([{\n    text: \"Hi! I'm your travel assistant. Ask me anything about your trip, places to eat, or sightseeing!\",\n    isUser: false\n  }]);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const sendMessage = async e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    const userMsg = {\n      text: input,\n      isUser: true\n    };\n    setMessages(msgs => [...msgs, userMsg]);\n    setInput(\"\");\n    setLoading(true);\n    try {\n      const res = await fetch(\"http://localhost:5000/chatbot\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          query: input\n        })\n      });\n      const data = await res.json();\n      setMessages(msgs => [...msgs, {\n        text: data.response || \"Sorry, I couldn't find an answer.\",\n        isUser: false\n      }]);\n    } catch {\n      setMessages(msgs => [...msgs, {\n        text: \"Sorry, there was a problem connecting to the assistant.\",\n        isUser: false\n      }]);\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: chatContainerStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: chatBoxStyle,\n      children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: messageStyle(msg.isUser),\n        children: [msg.isUser ? /*#__PURE__*/_jsxDEV(FaUser, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(FaRobot, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: msg.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: sendMessage,\n      style: {\n        width: \"100%\",\n        maxWidth: 500,\n        display: \"flex\",\n        gap: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          flex: 1,\n          padding: \"0.9rem\",\n          borderRadius: \"12px\",\n          border: \"1.5px solid #393e4a\",\n          background: \"#232b3b\",\n          color: \"#fff\",\n          fontSize: \"1.1rem\"\n        },\n        placeholder: \"Ask me anything about your trip...\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GradientButton, {\n        type: \"submit\",\n        disabled: loading || !input.trim(),\n        children: loading ? \"...\" : \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_s(Chatbot, \"TLfa+plfZaQRwNPxTOtch6DKK9w=\");\n_c = Chatbot;\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Card","GradientButton","FaRobot","FaUser","jsxDEV","_jsxDEV","chatContainerStyle","minHeight","background","display","flexDirection","alignItems","justifyContent","padding","chatBoxStyle","width","maxWidth","borderRadius","boxShadow","color","gap","marginBottom","messageStyle","isUser","alignSelf","margin","fontSize","Chatbot","_s","messages","setMessages","text","input","setInput","loading","setLoading","chatEndRef","_chatEndRef$current","current","scrollIntoView","behavior","sendMessage","e","preventDefault","trim","userMsg","msgs","res","fetch","method","headers","body","JSON","stringify","query","data","json","response","style","children","map","msg","idx","fileName","_jsxFileName","lineNumber","columnNumber","ref","onSubmit","flex","border","placeholder","value","onChange","target","disabled","type","_c","$RefreshReg$"],"sources":["C:/Users/arora/Downloads/trip-estimator/frontend/src/chatbot.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport Card from \"./components/Card\";\r\nimport GradientButton from \"./components/GradientButton\";\r\nimport { FaRobot, FaUser } from \"react-icons/fa\";\r\n\r\nconst chatContainerStyle = {\r\n  minHeight: \"100vh\",\r\n  background: \"linear-gradient(135deg, #232b3b 0%, #181c24 100%)\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  padding: \"2rem\"\r\n};\r\n\r\nconst chatBoxStyle = {\r\n  width: \"100%\",\r\n  maxWidth: 500,\r\n  minHeight: 400,\r\n  background: \"rgba(30,34,44,0.97)\",\r\n  borderRadius: \"22px\",\r\n  boxShadow: \"0 8px 32px 0 rgba(31, 38, 135, 0.18)\",\r\n  padding: \"2rem\",\r\n  color: \"#fff\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  gap: \"1rem\",\r\n  marginBottom: \"2rem\"\r\n};\r\n\r\nconst messageStyle = (isUser) => ({\r\n  alignSelf: isUser ? \"flex-end\" : \"flex-start\",\r\n  background: isUser\r\n    ? \"linear-gradient(90deg, #a991f7 0%, #6e7ff3 100%)\"\r\n    : \"rgba(40,44,54,0.97)\",\r\n  color: \"#fff\",\r\n  borderRadius: \"16px\",\r\n  padding: \"0.8rem 1.2rem\",\r\n  margin: \"0.2rem 0\",\r\n  maxWidth: \"80%\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  gap: \"0.7rem\",\r\n  fontSize: \"1.08rem\"\r\n});\r\n\r\nexport default function Chatbot() {\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      text: \"Hi! I'm your travel assistant. Ask me anything about your trip, places to eat, or sightseeing!\",\r\n      isUser: false\r\n    }\r\n  ]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const chatEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!input.trim()) return;\r\n    const userMsg = { text: input, isUser: true };\r\n    setMessages((msgs) => [...msgs, userMsg]);\r\n    setInput(\"\");\r\n    setLoading(true);\r\n\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/chatbot\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ query: input })\r\n      });\r\n      const data = await res.json();\r\n      setMessages((msgs) => [\r\n        ...msgs,\r\n        { text: data.response || \"Sorry, I couldn't find an answer.\", isUser: false }\r\n      ]);\r\n    } catch {\r\n      setMessages((msgs) => [\r\n        ...msgs,\r\n        { text: \"Sorry, there was a problem connecting to the assistant.\", isUser: false }\r\n      ]);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div style={chatContainerStyle}>\r\n      <div style={chatBoxStyle}>\r\n        {messages.map((msg, idx) => (\r\n          <div key={idx} style={messageStyle(msg.isUser)}>\r\n            {msg.isUser ? <FaUser /> : <FaRobot />}\r\n            <span>{msg.text}</span>\r\n          </div>\r\n        ))}\r\n        <div ref={chatEndRef} />\r\n      </div>\r\n      <form\r\n        onSubmit={sendMessage}\r\n        style={{ width: \"100%\", maxWidth: 500, display: \"flex\", gap: \"1rem\" }}\r\n      >\r\n        <input\r\n          style={{\r\n            flex: 1,\r\n            padding: \"0.9rem\",\r\n            borderRadius: \"12px\",\r\n            border: \"1.5px solid #393e4a\",\r\n            background: \"#232b3b\",\r\n            color: \"#fff\",\r\n            fontSize: \"1.1rem\"\r\n          }}\r\n          placeholder=\"Ask me anything about your trip...\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          disabled={loading}\r\n        />\r\n        <GradientButton type=\"submit\" disabled={loading || !input.trim()}>\r\n          {loading ? \"...\" : \"Send\"}\r\n        </GradientButton>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}